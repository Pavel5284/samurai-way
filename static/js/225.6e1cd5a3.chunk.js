"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[225],{6225:function(n,e,i){i.r(e),i.d(e,{default:function(){return L}});var r=i(2791),o="Profile_content__8ygZl",l=i(9439),s="ProfileInfo_description__block__WSrD1",t="ProfileInfo_profile__block__MltAe",c="ProfileInfo_profile__button__iJ+ML",u="ProfileInfo_contact__WjCU4",a=i(4374),d=i(4353),f=i(1413),h=i(5987),j="FormsControls_form_control__FY0lk",x="FormsControls_error__Ah36m",p="FormsControls_form_summary_error__Tj7jl",v=i(6139),m=i(184),b=["input","meta","child"],_=["input","meta","child"],k=["input","meta","child"],g=function(n){n.input;var e=n.meta,i=(n.child,(0,h.Z)(n,b)),r=e.touched&&e.error;return(0,m.jsxs)("div",{className:j+" "+(r?x:""),children:[i.children,r&&(0,m.jsx)("span",{children:e.error})]})},C=function(n){var e=n.input,i=(n.meta,n.child,(0,h.Z)(n,_));return(0,m.jsx)(g,(0,f.Z)((0,f.Z)({},n),{},{children:(0,m.jsx)("textarea",(0,f.Z)((0,f.Z)({},e),i))}))},Z=function(n){var e=n.input,i=(n.meta,n.child,(0,h.Z)(n,k));return(0,m.jsx)(g,(0,f.Z)((0,f.Z)({},n),{},{children:(0,m.jsx)("input",(0,f.Z)((0,f.Z)({},e),i))}))},y=function(n,e,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,m.jsxs)("div",{children:[(0,m.jsx)(v.Z,(0,f.Z)({placeholder:n,name:e,validate:i,component:r},o))," ",l]})},F=i(704),w=i(5982),A=(0,F.Z)({form:"edit-profile"})((function(n){var e,i=n.handleSubmit,r=n.initialValues,o=n.error;return(0,m.jsxs)("form",{onSubmit:i,children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(w.ZP,{type:"default",onClick:i,children:"Save"}),o&&(0,m.jsx)("div",{className:p,children:o})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name"}),":",y("Full name","fullName",[],Z)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job"}),":",y("","lookingForAJob",[],Z,{type:"checkbox"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills"}),":",y("My professional skills","lookingForAJobDescription",[],C)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me"}),":",y("About me","aboutMe",[],C)]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts"}),": ",Object.keys(null!==(e=r.contacts)&&void 0!==e?e:{}).map((function(n){return(0,m.jsx)("div",{className:u,children:(0,m.jsxs)("b",{children:[n,": ",y(n,"contacts."+n,[],Z)]})},n)}))]})]})})),N=i(3923),O=i(5972),M=i(9153),P=function(n){var e=(0,N.TL)(),i=(0,N.CG)((function(n){return n.profile.status})),o=(0,r.useState)(!1),s=(0,l.Z)(o,2),t=s[0],c=s[1],u=(0,r.useState)(i),a=(0,l.Z)(u,2),d=a[0],f=a[1];(0,r.useEffect)((function(){f(i)}),[i]);return(0,m.jsxs)("div",{children:[!t&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Status: "})," ",(0,m.jsx)("span",{onDoubleClick:function(){c(!0)},children:i||"-----"})]}),t&&(0,m.jsx)("div",{children:(0,m.jsx)(M.Z,{onChange:function(n){f(n.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e((0,O.Nf)(d))},value:d})})]})},S=i(2962),T=function(n){var e=(0,N.TL)(),i=(0,r.useRef)(null),o=(0,r.useState)(!1),s=(0,l.Z)(o,2),u=s[0],f=s[1],h=(0,N.CG)((function(n){var e;return null===(e=n.profile.profile)||void 0===e?void 0:e.photos.large})),j=(0,N.CG)((function(n){return n.profile.formError}));if(!n.profile)return(0,m.jsx)(a.p,{});return(0,m.jsxs)("div",{className:t,children:[(0,m.jsx)(S.C,{src:h||d,alt:"user Avatar",size:150}),n.isOwner&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(w.ZP,{className:c,onClick:function(){var n;i&&(null===(n=i.current)||void 0===n||n.click())},children:"Change Photo"}),(0,m.jsx)("input",{style:{display:"none"},type:"file",ref:i,onChange:function(n){n.target.files.length&&e((0,O.Ju)(n.target.files[0]))}})]}),(0,m.jsx)(P,{}),u?(0,m.jsx)(A,{initialValues:n.profile,onSubmit:function(n){e((0,O.Ii)(n)),j&&f(!1)}}):(0,m.jsx)(I,{profile:n.profile,isOwner:n.isOwner,goToEditMode:function(){f(!0)}})]})},I=function(n){return(0,m.jsxs)("div",{className:s,children:[n.isOwner&&(0,m.jsx)("div",{children:(0,m.jsx)(w.ZP,{type:"default",onClick:n.goToEditMode,children:"Edit"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name"}),": ",n.profile.fullName]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job"}),": ",n.profile.lookingForAJob?"yes":"no"]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills"}),": ",n.profile.lookingForAJobDescription]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me"}),": ",n.profile.aboutMe]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Contacts"}),": ",Object.keys(n.profile.contacts).map((function(e){return(0,m.jsx)(E,{contactTitle:e,contactValue:n.profile.contacts[e]},e)}))]})]})},E=function(n){var e=n.contactTitle,i=n.contactValue;return(0,m.jsxs)("div",{className:u,children:[(0,m.jsx)("b",{children:e}),": ",null!==i&&void 0!==i?i:"-"]})},G=function(n){var e=(0,N.CG)((function(n){return n.profile.profile}));return(0,m.jsx)("div",{className:o,children:(0,m.jsx)(T,{isOwner:n.isOwner,profile:e})})},J=i(7689),L=function(){var n=(0,J.UO)().userId,e=(0,N.TL)(),i=(0,N.CG)((function(n){return n.auth.userId}));n||(n=i+"");var o=+n===i,l=(0,N.CG)((function(n){return n.auth.isAuth}));return(0,r.useEffect)((function(){null!==n&&null!==i&&(e((0,O.et)(+n?+n:i)),e((0,O.lR)(+n?+n:i)))}),[n]),l?(0,m.jsx)(G,{isOwner:o}):(0,m.jsx)(J.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=225.6e1cd5a3.chunk.js.map
"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[445],{5445:function(t,s,e){e.r(s),e.d(s,{default:function(){return U}});var r=e(1413),n=e(5671),i=e(3144),o=e(136),u=e(5716),a=e(2791),c="Profile_content__8ygZl",l="ProfileInfo_main__image__NW0Zx",d="ProfileInfo_description__block__WSrD1",p=e(3445),f=e(885),h=e(184),m=function(t){var s=(0,a.useState)(!1),e=(0,f.Z)(s,2),r=e[0],n=e[1],i=(0,a.useState)(t.status),o=(0,f.Z)(i,2),u=o[0],c=o[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,h.jsxs)("div",{children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"-----"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(u)},value:u})})]})},x=function(t){return t.profile?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:l,children:(0,h.jsx)("img",{src:"https://www.culture.ru/storage/images/34a20c3ceeb456e7225316a0c05902e9/1a088b633c9a35946b82f904b8f7dfc5.jpeg",alt:"image"})}),(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("img",{src:t.profile.photos.large||"https://sun9-40.userapi.com/impg/xpQLmHEXpp2_NoBuiQ5eQ7zXd_Ka7MZxToTO5g/7rzipkNl1Ng.jpg?size=460x604&quality=96&sign=d7a38b815e4dcb25457baba995df2c05&type=album",alt:"profile avatar"}),(0,h.jsx)(m,{status:t.status,updateStatus:t.updateStatus})]})]}):(0,h.jsx)(p.p,{})},_=e(6407),j="MyPosts_posts__block__BIfB4",g="MyPosts_posts__+v8u2",v="Post_item__x08pL",Z="Post_item__image__QKBkY",b=function(t){return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("img",{className:Z,src:"https://sun9-40.userapi.com/impg/xpQLmHEXpp2_NoBuiQ5eQ7zXd_Ka7MZxToTO5g/7rzipkNl1Ng.jpg?size=460x604&quality=96&sign=d7a38b815e4dcb25457baba995df2c05&type=album",alt:"ava"}),t.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"like "}),t.likesCount]})]})},N=e(6139),y=e(704),k=e(3079),P=e(1117),S=a.memo((function(t){var s=t.posts.map((function(t){return(0,h.jsx)(b,{id:t.id,message:t.message,likesCount:t.likesCount},t.id)}));return(0,h.jsx)("div",{className:j,children:(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{children:"My post"}),(0,h.jsx)(w,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,h.jsx)("div",{className:g,children:s})]})})})),C=(0,k.D)(10),w=(0,y.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(N.Z,{component:P.gx,name:"newPostText",placeholder:"Post message",validate:[k.C,C]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),I=e(364),z=(0,I.$j)((function(t){return{posts:t.profile.posts}}),(function(t){return{addPost:function(s){t((0,_.q2)(s))}}}))(S),T=function(t){return(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)(x,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(z,{})]})},F=e(9271),M=e(2932),Q=e(7781),B=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;!t&&this.props.authorizedUserId&&((t="".concat(this.props.authorizedUserId))||this.props.history.push("/login")),this.props.getUserProfile(Number(t)),this.props.getStatus(Number(t))}},{key:"render",value:function(){return(0,h.jsx)(T,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(a.Component),U=(0,Q.qC)(M.y,F.EN,(0,I.$j)((function(t){return{profile:t.profile.profile,status:t.profile.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:_.et,setUserProfile:_.$l,getStatus:_.lR,updateStatus:_.Nf}))(B)},1117:function(t,s,e){e.d(s,{gx:function(){return p},II:function(){return f},Gr:function(){return h}});var r=e(1413),n=e(5987),i=(e(2791),e(9234)),o=e(6139),u=e(184),a=["input","meta","child"],c=["input","meta","child"],l=["input","meta","child"],d=function(t){t.input;var s=t.meta,e=(t.child,(0,n.Z)(t,a)),r=s.touched&&s.error;return(0,u.jsxs)("div",{className:i.Z.form_control+" "+(r?i.Z.error:""),children:[e.children,r&&(0,u.jsx)("span",{children:s.error})]})},p=function(t){var s=t.input,e=(t.meta,t.child,(0,n.Z)(t,c));return(0,u.jsx)(d,(0,r.Z)((0,r.Z)({},t),{},{children:(0,u.jsx)("textarea",(0,r.Z)((0,r.Z)({},s),e))}))},f=function(t){var s=t.input,e=(t.meta,t.child,(0,n.Z)(t,l));return(0,u.jsx)(d,(0,r.Z)((0,r.Z)({},t),{},{children:(0,u.jsx)("input",(0,r.Z)((0,r.Z)({},s),e))}))},h=function(t,s,e,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,u.jsxs)("div",{children:[(0,u.jsx)(o.Z,(0,r.Z)({placeholder:t,name:s,validate:e,component:n},i))," ",a]})}},3079:function(t,s,e){e.d(s,{C:function(){return r},D:function(){return n}});var r=function(t){if(!t)return"Field is required"},n=function(t){return function(s){if(s&&s.length>t)return"Max length is ".concat(t," symbols")}}},9234:function(t,s){s.Z={form_control:"FormsControls_form_control__FY0lk",error:"FormsControls_error__Ah36m",form_summary_error:"FormsControls_form_summary_error__Tj7jl"}}}]);
//# sourceMappingURL=445.4d1cecb5.chunk.js.map